Return-Path: <linux-btrfs-owner@vger.kernel.org>
X-Original-To: lists+linux-btrfs@lfdr.de
Delivered-To: lists+linux-btrfs@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id D4B4538D88D
	for <lists+linux-btrfs@lfdr.de>; Sun, 23 May 2021 05:35:52 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S231540AbhEWDhQ (ORCPT <rfc822;lists+linux-btrfs@lfdr.de>);
        Sat, 22 May 2021 23:37:16 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:51792 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S231528AbhEWDhQ (ORCPT
        <rfc822;linux-btrfs@vger.kernel.org>);
        Sat, 22 May 2021 23:37:16 -0400
Received: from mail-ot1-x331.google.com (mail-ot1-x331.google.com [IPv6:2607:f8b0:4864:20::331])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id DC1C8C061574
        for <linux-btrfs@vger.kernel.org>; Sat, 22 May 2021 20:35:49 -0700 (PDT)
Received: by mail-ot1-x331.google.com with SMTP id n32-20020a9d1ea30000b02902a53d6ad4bdso21904391otn.3
        for <linux-btrfs@vger.kernel.org>; Sat, 22 May 2021 20:35:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to;
        bh=DMxwUiKLNyyZ4Zie8Y0eh7bWuiUyAqAw8eA6NL6uYUQ=;
        b=j8MT8PpZfYF7qkZiURyWoAwGNzqddRWPK20Dm5KuWNyW0zy9i3JY1vsoEz+MaeHTGS
         ymU6wpmFZsLr7lTClJ1WxJtNf8qIU1Ae5gx4ootwVnb0JdJ0SduVBZKIlB+reaIubYig
         JCJWAoXEYlHyvOaMe4jP8nwlXdeMZZuIxVlGIojbAt99eCRCBwZy1PmHvWonQHb35JMb
         ZpC0kthDg/20Lgpj44m0KGXr0VPPt4nBe5ebIpkuzD0qPMNhB/9I0WV71M68OCyAU1sI
         PLAB/AifEUBgEbnaPNPDZD5X8T4izXUjIcw00/bgtdF9nG7xYn/1yMsOv237KiRq/GMF
         J2MQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to;
        bh=DMxwUiKLNyyZ4Zie8Y0eh7bWuiUyAqAw8eA6NL6uYUQ=;
        b=UOrO7WBGSmL/s3/VuRlGFkd13LIu02zTQdELsQzDuXB3utmQkY7KfI2NDBESg/5N8K
         4gorR4tMn6ToSd/wwlK2t/9OLevG+ETf/7OMhmMJDjGT9cRY6j+5tN5FHkdCvkhFrA2o
         aeY942FSc3FPbcvStQwPK20FfC+PbpRe6m044iHuzPEyPR5xP3c4+T1yqKQWUqs+ZWng
         IAeDCWwxCUzA7Ahx4RskC0ZVWc8LDUuET5XjMUAhcanG1h6X77ph0rrO8sgAhZtipTwJ
         40ePqA/dvpVCVHwWNb7f/x15KK5amZ2vFnIpaVSkI5m/aTjVM7RXqP1AHDTueUnOPDLM
         wKCA==
X-Gm-Message-State: AOAM530PuteW63uC5S5+2aiicoL5uBuz58rIpqTr3FxNZqQj/YQdmr2y
        SsumllN8012kArBIfaNNlJ+gnJ6VtF3LOkgq5Q8vjaAo
X-Google-Smtp-Source: ABdhPJwJV7XhAoB3vqSKBepqEgFBrnPo117jc7hTQlo60+aG4ngjh4g39e8GLchkE8u6HMXs/G72+xw5JMPJB+bPqDw=
X-Received: by 2002:a9d:459a:: with SMTP id x26mr13966140ote.337.1621740948814;
 Sat, 22 May 2021 20:35:48 -0700 (PDT)
MIME-Version: 1.0
References: <CACEy+ER0_B0rOkuzwGEvJXO7jkxZ55D0JcTX+=ApHa+RstmNXQ@mail.gmail.com>
In-Reply-To: <CACEy+ER0_B0rOkuzwGEvJXO7jkxZ55D0JcTX+=ApHa+RstmNXQ@mail.gmail.com>
From:   Sampson Fung <sampsonfung@gmail.com>
Date:   Sun, 23 May 2021 11:35:42 +0800
Message-ID: <CACEy+ESF=3xCOu1sDAeMBPdtYY=xMDmKLBCaOWFiuhBUXmU3+A@mail.gmail.com>
Subject: Re: Summary: btrfs scrub aborted
To:     linux-btrfs@vger.kernel.org
Content-Type: text/plain; charset="UTF-8"
Precedence: bulk
List-ID: <linux-btrfs.vger.kernel.org>
X-Mailing-List: linux-btrfs@vger.kernel.org

On Fri, May 21, 2021 at 7:11 PM Sampson Fung <sampsonfung@gmail.com> wrote:
>
> This issues is originally posted to ASK.fedoraproject.org
> https://ask.fedoraproject.org/t/btrfs-scrub-find-one-error-then-aborted-cannot-resumed/14295?u=sampsonf
>
> Summary:
> 1.  After seeing some btrfs corruption in journal, I manually start a
> scrub by running
> sudo btrfs scrub start /var/vols/8T-5
> Result:
> After about 1/3 data is scrub, process is aborted, with check sum
> error and transid errors find.  scrub will keep aborting immediately
> after "btrfs scrub resume"
>
> 2.  With the help of Chris Murphy, it is identified the check sum
> error is in a QCOW2 file.  After mounting with "ro,rescue=all", the
> QCOW2 file can be copied and qemu-img check reports no error.
>
> After removed the QCOW2 file, scrub can finish, with there are extra
> check sum errors at the same logical block and the transid error still
> there.
>
> Question:
> A full backup of the btrfs volume is underway.  Apart from reformat
> and restore, what can be done to make the existing btrfs volume return
> to a healthy state?
>
>
>
> smartctl -i /dev/sdb | grep 'Device Model\|Firmware'
> Device Model:     TOSHIBA MG05ACA800E
> Firmware Version: GX4K
>
> btrfs check --readonly /dev/sdc2
> Opening filesystem to check...
> Checking filesystem on /dev/sdc2
> UUID: 6a32b7e3-0ad3-4316-942d-ec568e1e86f8
> [1/7] checking root items
> [2/7] checking extents
> parent transid verify failed on 8477840605184 wanted 255798 found 255532
> parent transid verify failed on 8477840605184 wanted 255798 found 255532
> parent transid verify failed on 8477840605184 wanted 255798 found 255532
> Ignoring transid failure
> bad block 8477840605184
> ERROR: errors found in extent allocation tree or chunk allocation
> [3/7] checking free space cache
> [4/7] checking fs roots
> [5/7] checking only csums items (without verifying data)
> parent transid verify failed on 8477840605184 wanted 255798 found 255532
> Ignoring transid failure
> ERROR: child eb corrupted: parent bytenr=8477897146368 item=218 parent
> level=1 child bytenr=8477840605184 child level=1
> Error going to next leaf -5
> [6/7] checking root refs
> [7/7] checking quota groups skipped (not enabled on this FS)
> ERROR: transid errors in file system
> found 6317718130688 bytes used, error(s) found
> total csum bytes: 5833278272
> total tree bytes: 7172947968
> total fs tree bytes: 3670016
> total extent tree bytes: 393412608
> btree space waste bytes: 919951283
> file data blocks allocated: 74452951040
>  referenced 69352108032
>
> btrfs insp dump-t -b 8477840605184 --hide-names /dev/sdc2
> btrfs-progs v5.12.1
> node 8477840605184 level 1 items 245 free space 248 generation 255532
> owner CSUM_TREE
> node 8477840605184 flags 0x1(WRITTEN) backref revision 1
> fs uuid 6a32b7e3-0ad3-4316-942d-ec568e1e86f8
> chunk uuid 8d8bd209-fa88-4302-ac28-a57c1b325f42
>     key (EXTENT_CSUM EXTENT_CSUM 4910987608064) block 2095462367232 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4910988488704) block 2095462416384 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911005106176) block 2095462481920 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911021723648) block 2095462547456 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911037898752) block 2095462563840 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911048200192) block 2095462678528 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911064821760) block 2095462727680 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911064985600) block 2095462760448 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911081603072) block 2095462875136 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911098220544) block 2095462924288 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911114838016) block 2095463022592 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911131455488) block 2095463038976 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911143026688) block 2095463268352 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911159644160) block 2095463350272 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911176261632) block 2095463399424 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911192883200) block 2095463563264 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911199666176) block 2095463579648 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911214714880) block 2095463743488 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911227543552) block 2095463759872 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911244161024) block 2095463776256 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911260778496) block 2095463825408 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911277395968) block 2095464005632 gen 188363
>     key (EXTENT_CSUM EXTENT_CSUM 4911292563456) block 8478135468032 gen 215033
>     key (EXTENT_CSUM EXTENT_CSUM 4911309180928) block 8478117560320 gen 254923
>     key (EXTENT_CSUM EXTENT_CSUM 4911328657408) block 6450678431744 gen 255196
>     key (EXTENT_CSUM EXTENT_CSUM 4911333212160) block 8478454317056 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4911340621824) block 8477848289280 gen 255339
>     key (EXTENT_CSUM EXTENT_CSUM 4911344996352) block 8477773086720 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4911351791616) block 8477841784832 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4911354847232) block 8477859430400 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4911359250432) block 8477901832192 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4911364321280) block 8477901996032 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4911366905856) block 8477561896960 gen 255498
>     key (EXTENT_CSUM EXTENT_CSUM 4911374159872) block 8478435409920 gen 254966
>     key (EXTENT_CSUM EXTENT_CSUM 4911379673088) block 6450688770048 gen 255457
>     key (EXTENT_CSUM EXTENT_CSUM 4911384678400) block 8478435950592 gen 254966
>     key (EXTENT_CSUM EXTENT_CSUM 4911391444992) block 8477718446080 gen 255335
>     key (EXTENT_CSUM EXTENT_CSUM 4911397834752) block 6452110753792 gen 255472
>     key (EXTENT_CSUM EXTENT_CSUM 4911405080576) block 2095485042688 gen 255431
>     key (EXTENT_CSUM EXTENT_CSUM 4911410008064) block 8477701062656 gen 255506
>     key (EXTENT_CSUM EXTENT_CSUM 4911416238080) block 8477803364352 gen 255524
>     key (EXTENT_CSUM EXTENT_CSUM 4911424786432) block 8477701111808 gen 255506
>     key (EXTENT_CSUM EXTENT_CSUM 4911432511488) block 8477879271424 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4911438635008) block 8477763993600 gen 255339
>     key (EXTENT_CSUM EXTENT_CSUM 4911443587072) block 8477801889792 gen 255515
>     key (EXTENT_CSUM EXTENT_CSUM 4911450861568) block 8477618438144 gen 255296
>     key (EXTENT_CSUM EXTENT_CSUM 4911459819520) block 8477484105728 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4911468179456) block 8477699997696 gen 255515
>     key (EXTENT_CSUM EXTENT_CSUM 4911474753536) block 8477896949760 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4911481630720) block 8478070276096 gen 255516
>     key (EXTENT_CSUM EXTENT_CSUM 4911493132288) block 8477562339328 gen 255498
>     key (EXTENT_CSUM EXTENT_CSUM 4911502270464) block 2095487516672 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4911510507520) block 8477902143488 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4911518830592) block 2095481126912 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4911530209280) block 2095487631360 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4911543361536) block 8477619011584 gen 255296
>     key (EXTENT_CSUM EXTENT_CSUM 4911553613824) block 6450689130496 gen 255256
>     key (EXTENT_CSUM EXTENT_CSUM 4911562694656) block 8477786603520 gen 255338
>     key (EXTENT_CSUM EXTENT_CSUM 4911575584768) block 8477607313408 gen 255498
>     key (EXTENT_CSUM EXTENT_CSUM 4911587049472) block 2095723347968 gen 255433
>     key (EXTENT_CSUM EXTENT_CSUM 4911602769920) block 8478107811840 gen 237988
>     key (EXTENT_CSUM EXTENT_CSUM 4911617314816) block 2095312977920 gen 214274
>     key (EXTENT_CSUM EXTENT_CSUM 4911633747968) block 8477859282944 gen 253191
>     key (EXTENT_CSUM EXTENT_CSUM 4911648309248) block 8477953359872 gen 213569
>     key (EXTENT_CSUM EXTENT_CSUM 4911664930816) block 8478088052736 gen 211124
>     key (EXTENT_CSUM EXTENT_CSUM 4911681552384) block 8478088069120 gen 211124
>     key (EXTENT_CSUM EXTENT_CSUM 4911698173952) block 8478088085504 gen 211124
>     key (EXTENT_CSUM EXTENT_CSUM 4911714795520) block 6450689163264 gen 255256
>     key (EXTENT_CSUM EXTENT_CSUM 4911728156672) block 8477522378752 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4911736844288) block 8477701341184 gen 255506
>     key (EXTENT_CSUM EXTENT_CSUM 4911748939776) block 8477701373952 gen 255506
>     key (EXTENT_CSUM EXTENT_CSUM 4911760543744) block 2896207118336 gen 255194
>     key (EXTENT_CSUM EXTENT_CSUM 4911775547392) block 2095250456576 gen 254827
>     key (EXTENT_CSUM EXTENT_CSUM 4911791718400) block 8478089609216 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4911806226432) block 8477701390336 gen 255506
>     key (EXTENT_CSUM EXTENT_CSUM 4911810736128) block 2095572369408 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4911818137600) block 6450563284992 gen 255257
>     key (EXTENT_CSUM EXTENT_CSUM 4911831973888) block 6450713198592 gen 255278
>     key (EXTENT_CSUM EXTENT_CSUM 4911846227968) block 8477701832704 gen 228558
>     key (EXTENT_CSUM EXTENT_CSUM 4911862849536) block 6450678562816 gen 251344
>     key (EXTENT_CSUM EXTENT_CSUM 4911878438912) block 8477939040256 gen 255361
>     key (EXTENT_CSUM EXTENT_CSUM 4911885381632) block 6450696372224 gen 255472
>     key (EXTENT_CSUM EXTENT_CSUM 4911892893696) block 8477773053952 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4911897636864) block 8477619027968 gen 255505
>     key (EXTENT_CSUM EXTENT_CSUM 4911907803136) block 8478331551744 gen 255381
>     key (EXTENT_CSUM EXTENT_CSUM 4911915851776) block 2095487746048 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4911928381440) block 2095485534208 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4911939751936) block 6450691227648 gen 255256
>     key (EXTENT_CSUM EXTENT_CSUM 4911949889536) block 8477550346240 gen 255497
>     key (EXTENT_CSUM EXTENT_CSUM 4911960281088) block 2095244673024 gen 255250
>     key (EXTENT_CSUM EXTENT_CSUM 4911968550912) block 8478374330368 gen 255169
>     key (EXTENT_CSUM EXTENT_CSUM 4911976820736) block 6450563022848 gen 255258
>     key (EXTENT_CSUM EXTENT_CSUM 4911986008064) block 2095667888128 gen 255250
>     key (EXTENT_CSUM EXTENT_CSUM 4911994003456) block 6450721079296 gen 255281
>     key (EXTENT_CSUM EXTENT_CSUM 4911999787008) block 8478046109696 gen 255365
>     key (EXTENT_CSUM EXTENT_CSUM 4912009973760) block 8477873487872 gen 255339
>     key (EXTENT_CSUM EXTENT_CSUM 4912016211968) block 8477532733440 gen 255218
>     key (EXTENT_CSUM EXTENT_CSUM 4912029597696) block 8478335778816 gen 212412
>     key (EXTENT_CSUM EXTENT_CSUM 4912046219264) block 7714681274368 gen 211366
>     key (EXTENT_CSUM EXTENT_CSUM 4912059023360) block 7714680864768 gen 211366
>     key (EXTENT_CSUM EXTENT_CSUM 4912075644928) block 8477652254720 gen 211367
>     key (EXTENT_CSUM EXTENT_CSUM 4912092266496) block 8477652271104 gen 211367
>     key (EXTENT_CSUM EXTENT_CSUM 4912108888064) block 8477652303872 gen 211367
>     key (EXTENT_CSUM EXTENT_CSUM 4912125509632) block 8477652336640 gen 211367
>     key (EXTENT_CSUM EXTENT_CSUM 4912142131200) block 8477849419776 gen 211374
>     key (EXTENT_CSUM EXTENT_CSUM 4912158752768) block 8477849436160 gen 211374
>     key (EXTENT_CSUM EXTENT_CSUM 4912175349760) block 8477523558400 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4912187535360) block 8477497917440 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4912194662400) block 6450695290880 gen 255470
>     key (EXTENT_CSUM EXTENT_CSUM 4912201371648) block 8478114512896 gen 255374
>     key (EXTENT_CSUM EXTENT_CSUM 4912217075712) block 8478446649344 gen 254966
>     key (EXTENT_CSUM EXTENT_CSUM 4912229380096) block 8478070603776 gen 254922
>     key (EXTENT_CSUM EXTENT_CSUM 4912245252096) block 8478299865088 gen 255168
>     key (EXTENT_CSUM EXTENT_CSUM 4912259923968) block 2896123740160 gen 246335
>     key (EXTENT_CSUM EXTENT_CSUM 4912268677120) block 8478299013120 gen 255243
>     key (EXTENT_CSUM EXTENT_CSUM 4912281976832) block 8477963911168 gen 255363
>     key (EXTENT_CSUM EXTENT_CSUM 4913475031040) block 8477498097664 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4913481289728) block 6450575785984 gen 255457
>     key (EXTENT_CSUM EXTENT_CSUM 4913487241216) block 8477939056640 gen 255361
>     key (EXTENT_CSUM EXTENT_CSUM 4913498177536) block 8477786865664 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4913511317504) block 8477786750976 gen 255338
>     key (EXTENT_CSUM EXTENT_CSUM 4913522954240) block 8477605265408 gen 255494
>     key (EXTENT_CSUM EXTENT_CSUM 4913528889344) block 2095627419648 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4913541951488) block 6450697551872 gen 255272
>     key (EXTENT_CSUM EXTENT_CSUM 4913553911808) block 8477768794112 gen 255327
>     key (EXTENT_CSUM EXTENT_CSUM 4913568161792) block 6450691522560 gen 255256
>     key (EXTENT_CSUM EXTENT_CSUM 4913581428736) block 8477575086080 gen 255291
>     key (EXTENT_CSUM EXTENT_CSUM 4913589563392) block 8478185816064 gen 255149
>     key (EXTENT_CSUM EXTENT_CSUM 4913601384448) block 6450716065792 gen 246502
>     key (EXTENT_CSUM EXTENT_CSUM 4913605787648) block 8478096195584 gen 255366
>     key (EXTENT_CSUM EXTENT_CSUM 4913618006016) block 8477898932224 gen 211885
>     key (EXTENT_CSUM EXTENT_CSUM 4913622409216) block 6450704809984 gen 228533
>     key (EXTENT_CSUM EXTENT_CSUM 4913639030784) block 8477952966656 gen 255362
>     key (EXTENT_CSUM EXTENT_CSUM 4913644511232) block 8477966811136 gen 255362
>     key (EXTENT_CSUM EXTENT_CSUM 4913655652352) block 8477927342080 gen 232501
>     key (EXTENT_CSUM EXTENT_CSUM 4913672273920) block 8477956505600 gen 211461
>     key (EXTENT_CSUM EXTENT_CSUM 4913688895488) block 2095244050432 gen 255250
>     key (EXTENT_CSUM EXTENT_CSUM 4913701113856) block 6450721669120 gen 254346
>     key (EXTENT_CSUM EXTENT_CSUM 4913705517056) block 2095483715584 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4913720102912) block 6452041842688 gen 255281
>     key (EXTENT_CSUM EXTENT_CSUM 4913729728512) block 8477619224576 gen 255505
>     key (EXTENT_CSUM EXTENT_CSUM 4913743921152) block 8477841932288 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4913749307392) block 8477499588608 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4913759141888) block 8477929799680 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4913768996864) block 8477751410688 gen 254381
>     key (EXTENT_CSUM EXTENT_CSUM 4913784815616) block 8478404837376 gen 254826
>     key (EXTENT_CSUM EXTENT_CSUM 4913799761920) block 8477927243776 gen 222541
>     key (EXTENT_CSUM EXTENT_CSUM 4913801412608) block 2095249260544 gen 255250
>     key (EXTENT_CSUM EXTENT_CSUM 4913816383488) block 6450721619968 gen 254346
>     key (EXTENT_CSUM EXTENT_CSUM 4913823748096) block 8477929881600 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4913834254336) block 2095250554880 gen 254827
>     key (EXTENT_CSUM EXTENT_CSUM 4913848864768) block 8477581983744 gen 255218
>     key (EXTENT_CSUM EXTENT_CSUM 4913863110656) block 8478237048832 gen 224784
>     key (EXTENT_CSUM EXTENT_CSUM 4913865134080) block 8477829742592 gen 212218
>     key (EXTENT_CSUM EXTENT_CSUM 4913881702400) block 8478104633344 gen 255374
>     key (EXTENT_CSUM EXTENT_CSUM 4913895874560) block 8477759193088 gen 255504
>     key (EXTENT_CSUM EXTENT_CSUM 4913908670464) block 2095243853824 gen 255250
>     key (EXTENT_CSUM EXTENT_CSUM 4913923538944) block 8477883006976 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4913934700544) block 8477902307328 gen 254896
>     key (EXTENT_CSUM EXTENT_CSUM 4913948164096) block 8478039752704 gen 230061
>     key (EXTENT_CSUM EXTENT_CSUM 4913960562688) block 8477893263360 gen 255532
>     key (EXTENT_CSUM EXTENT_CSUM 4913974534144) block 8477701406720 gen 255506
>     key (EXTENT_CSUM EXTENT_CSUM 4913982152704) block 8478447419392 gen 254966
>     key (EXTENT_CSUM EXTENT_CSUM 4913990545408) block 8478032609280 gen 255241
>     key (EXTENT_CSUM EXTENT_CSUM 4913998557184) block 6450649448448 gen 255457
>     key (EXTENT_CSUM EXTENT_CSUM 4914013429760) block 6450685919232 gen 255066
>     key (EXTENT_CSUM EXTENT_CSUM 4914026553344) block 8478117609472 gen 211588
>     key (EXTENT_CSUM EXTENT_CSUM 4914043150336) block 2095244165120 gen 255250
>     key (EXTENT_CSUM EXTENT_CSUM 4914052521984) block 8477876486144 gen 255339
>     key (EXTENT_CSUM EXTENT_CSUM 4914063429632) block 6451884916736 gen 255281
>     key (EXTENT_CSUM EXTENT_CSUM 4914075656192) block 6450696847360 gen 255472
>     key (EXTENT_CSUM EXTENT_CSUM 4914089598976) block 2095702278144 gen 255250
>     key (EXTENT_CSUM EXTENT_CSUM 4914102054912) block 2896060088320 gen 246582
>     key (EXTENT_CSUM EXTENT_CSUM 4914115891200) block 8478298603520 gen 254675
>     key (EXTENT_CSUM EXTENT_CSUM 4914130063360) block 8478386814976 gen 251905
>     key (EXTENT_CSUM EXTENT_CSUM 4914143866880) block 8477500719104 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4914152570880) block 8477929897984 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4914164236288) block 6450691801088 gen 253085
>     key (EXTENT_CSUM EXTENT_CSUM 4914176966656) block 8477937795072 gen 255359
>     key (EXTENT_CSUM EXTENT_CSUM 4914191990784) block 8477986832384 gen 242644
>     key (EXTENT_CSUM EXTENT_CSUM 4914205011968) block 8478431232000 gen 229967
>     key (EXTENT_CSUM EXTENT_CSUM 4914219974656) block 6450685837312 gen 243164
>     key (EXTENT_CSUM EXTENT_CSUM 4914229489664) block 8478437212160 gen 212155
>     key (EXTENT_CSUM EXTENT_CSUM 4914244780032) block 8478429773824 gen 254676
>     key (EXTENT_CSUM EXTENT_CSUM 4914261147648) block 6450567839744 gen 255197
>     key (EXTENT_CSUM EXTENT_CSUM 4914274107392) block 6450708267008 gen 254588
>     key (EXTENT_CSUM EXTENT_CSUM 4914286198784) block 8477761110016 gen 254891
>     key (EXTENT_CSUM EXTENT_CSUM 4914290323456) block 8477524525056 gen 255493
>     key (EXTENT_CSUM EXTENT_CSUM 4914301665280) block 8477779968000 gen 255339
>     key (EXTENT_CSUM EXTENT_CSUM 4914312564736) block 8478408212480 gen 255403
>     key (EXTENT_CSUM EXTENT_CSUM 4914323267584) block 6450649481216 gen 255457
>     key (EXTENT_CSUM EXTENT_CSUM 4914335182848) block 6450685296640 gen 255458
>     key (EXTENT_CSUM EXTENT_CSUM 4914344677376) block 8477768417280 gen 255287
>     key (EXTENT_CSUM EXTENT_CSUM 4914353102848) block 2095481683968 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4914361483264) block 6450682101760 gen 255256
>     key (EXTENT_CSUM EXTENT_CSUM 4914367983616) block 6450693767168 gen 255256
>     key (EXTENT_CSUM EXTENT_CSUM 4914383478784) block 6450694324224 gen 233628
>     key (EXTENT_CSUM EXTENT_CSUM 4914399047680) block 8477987045376 gen 255361
>     key (EXTENT_CSUM EXTENT_CSUM 4914412744704) block 8478307549184 gen 255381
>     key (EXTENT_CSUM EXTENT_CSUM 4914428186624) block 8478244864000 gen 255381
>     key (EXTENT_CSUM EXTENT_CSUM 4914433777664) block 8477774594048 gen 246653
>     key (EXTENT_CSUM EXTENT_CSUM 4914546737152) block 8478216699904 gen 228246
>     key (EXTENT_CSUM EXTENT_CSUM 4914563305472) block 8478245945344 gen 255381
>     key (EXTENT_CSUM EXTENT_CSUM 4914576044032) block 6450721439744 gen 255281
>     key (EXTENT_CSUM EXTENT_CSUM 4914581688320) block 8478293983232 gen 254825
>     key (EXTENT_CSUM EXTENT_CSUM 4914590142464) block 2095650177024 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4914597494784) block 6450568921088 gen 255197
>     key (EXTENT_CSUM EXTENT_CSUM 4914610982912) block 8478371135488 gen 251905
>     key (EXTENT_CSUM EXTENT_CSUM 4914626797568) block 8477869326336 gen 212084
>     key (EXTENT_CSUM EXTENT_CSUM 4914630680576) block 8477845454848 gen 211870
>     key (EXTENT_CSUM EXTENT_CSUM 4914647302144) block 8478078418944 gen 254922
>     key (EXTENT_CSUM EXTENT_CSUM 4914662670336) block 8478430019584 gen 254676
>     key (EXTENT_CSUM EXTENT_CSUM 4914677780480) block 2095483994112 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4914693001216) block 2095484616704 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4914706898944) block 8477840654336 gen 255339
>     key (EXTENT_CSUM EXTENT_CSUM 4914714718208) block 2095484207104 gen 255251
>     key (EXTENT_CSUM EXTENT_CSUM 4914727444480) block 8477848092672 gen 255339
>     key (EXTENT_CSUM EXTENT_CSUM 4914740789248) block 8477971283968 gen 211893
>     key (EXTENT_CSUM EXTENT_CSUM 4914757410816) block 8478087774208 gen 229924
>     key (EXTENT_CSUM EXTENT_CSUM 4914770120704) block 8478289854464 gen 211979
>     key (EXTENT_CSUM EXTENT_CSUM 4914774007808) block 8477987684352 gen 211894
>     key (EXTENT_CSUM EXTENT_CSUM 4914790629376) block 6450681446400 gen 255256
>     key (EXTENT_CSUM EXTENT_CSUM 4914805555200) block 8477938810880 gen 223692
>     key (EXTENT_CSUM EXTENT_CSUM 4914807250944) block 8477829660672 gen 255339
>     key (EXTENT_CSUM EXTENT_CSUM 4914817228800) block 6450574770176 gen 255457
>     key (EXTENT_CSUM EXTENT_CSUM 4914826629120) block 8477688201216 gen 255514
>     key (EXTENT_CSUM EXTENT_CSUM 4914839814144) block 8478079074304 gen 254922
>     key (EXTENT_CSUM EXTENT_CSUM 4914854117376) block 6450690572288 gen 255007
>     key (EXTENT_CSUM EXTENT_CSUM 4914866855936) block 8478053515264 gen 255365
>     key (EXTENT_CSUM EXTENT_CSUM 4914881347584) block 8478107172864 gen 222728
>     key (EXTENT_CSUM EXTENT_CSUM 4914887307264) block 8478301421568 gen 211978
>     key (EXTENT_CSUM EXTENT_CSUM 4914903928832) block 8478307958784 gen 211978
>     key (EXTENT_CSUM EXTENT_CSUM 4914920525824) block 8478308401152 gen 211978
>     key (EXTENT_CSUM EXTENT_CSUM 4914937147392) block 8478308794368 gen 211978
>     key (EXTENT_CSUM EXTENT_CSUM 4914953691136) block 8477544480768 gen 254881
>     key (EXTENT_CSUM EXTENT_CSUM 4914968854528) block 6450716000256 gen 255472
>     key (EXTENT_CSUM EXTENT_CSUM 4914979389440) block 8477903044608 gen 254896
>     key (EXTENT_CSUM EXTENT_CSUM 4914994855936) block 8477900636160 gen 255341
>     key (EXTENT_CSUM EXTENT_CSUM 4915010801664) block 8478087577600 gen 228567
>     key (EXTENT_CSUM EXTENT_CSUM 4915015127040) block 8478116757504 gen 255374
>     key (EXTENT_CSUM EXTENT_CSUM 4915028074496) block 8477920133120 gen 212219
>     key (EXTENT_CSUM EXTENT_CSUM 4915031957504) block 7714281635840 gen 254868
>     key (EXTENT_CSUM EXTENT_CSUM 4915039379456) block 6450697109504 gen 255472
>     key (EXTENT_CSUM EXTENT_CSUM 4915048333312) block 6450697142272 gen 255472
>     key (EXTENT_CSUM EXTENT_CSUM 4915059974144) block 8477896966144 gen 255532
>
>
> uname -a
> Linux amdf 5.13.0-0.rc1.20210513gitc06a2ba62fc4.15.fc35.x86_64 #1 SMP
> Thu May 13 21:24:20 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux
>
> btrfs --version
> btrfs-progs v5.12.1
>
> sudo btrfs fi show /var/vols/8T-5/
> Label: 'btrfs'  uuid: 6a32b7e3-0ad3-4316-942d-ec568e1e86f8
>     Total devices 1 FS bytes used 5.75TiB
>     devid    1 size 7.28TiB used 5.82TiB path /dev/sdc2
>
> sudo btrfs fi df /var/vols/8T-5/
> Data, single: total=5.80TiB, used=5.74TiB
> System, DUP: total=32.00MiB, used=656.00KiB
> Metadata, DUP: total=11.00GiB, used=10.43GiB
> GlobalReserve, single: total=512.00MiB, used=0.00B
>
> sudo btrfs device stats /var/vols/8T-5/
> [/dev/sdc2].write_io_errs    0
> [/dev/sdc2].read_io_errs     0
> [/dev/sdc2].flush_io_errs    0
> [/dev/sdc2].corruption_errs  3012
> [/dev/sdc2].generation_errs  2

I finished exporting data from this drive.  So I can accept the risk
of lost data.

My target is to have "btrfs check" to report no error with minimum loss of data.

What should I do next?
