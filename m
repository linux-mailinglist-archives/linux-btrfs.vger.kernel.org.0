Return-Path: <linux-btrfs-owner@vger.kernel.org>
X-Original-To: lists+linux-btrfs@lfdr.de
Delivered-To: lists+linux-btrfs@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id D7DD465DB00
	for <lists+linux-btrfs@lfdr.de>; Wed,  4 Jan 2023 18:11:26 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S239663AbjADRLZ (ORCPT <rfc822;lists+linux-btrfs@lfdr.de>);
        Wed, 4 Jan 2023 12:11:25 -0500
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:60038 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S233904AbjADRLY (ORCPT
        <rfc822;linux-btrfs@vger.kernel.org>); Wed, 4 Jan 2023 12:11:24 -0500
Received: from dfw.source.kernel.org (dfw.source.kernel.org [139.178.84.217])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 426FD6165;
        Wed,  4 Jan 2023 09:11:23 -0800 (PST)
Received: from smtp.kernel.org (relay.kernel.org [52.25.139.140])
        (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
        (No client certificate requested)
        by dfw.source.kernel.org (Postfix) with ESMTPS id C46DD61563;
        Wed,  4 Jan 2023 17:11:22 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 24A56C433EF;
        Wed,  4 Jan 2023 17:11:22 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=k20201202; t=1672852282;
        bh=3m8PibimrZV51jhvO0ld2q0ijnM7xjJ9LndTo/0hM0s=;
        h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
        b=ao8b7sPTdYbt+xjuG9+p8rmbvVmUvQQjRyQ1hIpCCYuMfORbCu+eL4GmjPNkn4W9g
         CHbnmVnD5aNEek7xK7Yj83EEvRy0MnyGtLy2yhpbvphD0nZg5FNFi5PNPE/2EIdR/T
         FoPsT3gAE/AQQL1N5RfpaU4tOsG4C4KdkZlN/pn5Awh30YkDqeP+SbmKCY6FSLFp+H
         4LCj2t5wUIVbIdZNd7K2FgKt4SROhP2npKozGZlVzLgbBZkMEXi0FWIgc6GPP51t7m
         h0EcW7ZtJtokFp3mdjTSfTXK3ddTJHQ5qH3mHt4tnH/dTbp7/TsDr9rao6h61nOLbV
         bCaJQYyLX/MBg==
Date:   Wed, 4 Jan 2023 09:11:21 -0800
From:   "Darrick J. Wong" <djwong@kernel.org>
To:     Qu Wenruo <quwenruo.btrfs@gmx.com>
Cc:     fstests <fstests@vger.kernel.org>,
        "linux-btrfs@vger.kernel.org" <linux-btrfs@vger.kernel.org>
Subject: Re: Which dashboard do most fs developers use for the fstests
 results?
Message-ID: <Y7WzOXfIjmh1R4RO@magnolia>
References: <701ca299-2595-c310-7c8a-2d58c65b2d4d@gmx.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <701ca299-2595-c310-7c8a-2d58c65b2d4d@gmx.com>
X-Spam-Status: No, score=-7.1 required=5.0 tests=BAYES_00,DKIMWL_WL_HIGH,
        DKIM_SIGNED,DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_HI,
        SPF_HELO_NONE,SPF_PASS,T_PDS_OTHER_BAD_TLD,WEIRD_PORT autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-btrfs.vger.kernel.org>
X-Mailing-List: linux-btrfs@vger.kernel.org

On Thu, Dec 22, 2022 at 08:08:51PM +0800, Qu Wenruo wrote:
> Hi,
> 
> Recently I'm setting up my dashboard for my fstests results.
> My initial inspiration comes from Josef's static pages:
> 
>   http://toxicpanda.com/
> 
> Generated by the following project:
> 
>   https://github.com/josefbacik/fstest-results
> 
> 
> Then I build a similar script (using junit reporting from fstests instead),
> not much results yet, but all tests will be done on aarch64 VMs:
> 
>   https://h.anonymoususers.xyz:8443/results/
> 
> Generated by my poorly crafted project:
> 
>   https://github.com/adam900710/fstests_result_webui
> 
> 
> And I'm pretty sure other developers have their own dashboards.
> Darrick mentioned he has his own dashboard, and Theodore mentioned he hit
> several btrfs test failures.

Yep.  https://djwong.org/fstests/

Source: https://djwong.org/docs/fstmatrix.tar.xz

The tarball contains source to build four debian packages (poorly).  One
for the database itself (fugly slow sqlite); one that gets installed in
a test VM to collect, package, and submit fstests results to a
webserver; one to be the web service endpoint that accepts tarballs and
integrates the results into the database; and one to present a web
frontend and an rss feed based on db contents.

No auditing has been done on /any/ of it.  No authentication is
required.  Please don't bomb my machine.

> I'm wondering if it's possible to share the dashboards for each other?
> 
> Shared dashboards have the following advantage:
> 
> - Let guys from other fses to have more reports

Yes, that would be useful to cross-reference problems I see against
whatever Ted and Josef are running.  Granted I could do that today with
Josef's dashboard, but ... I don't.

>   Ted's reports is very valuable for our btrfs guys.
>   If we have the access the dashboard to grab the needed info,
>   we're definitely going to improve our runs.
> 
> - Learn better ways to build the dashboard
>   I learned a lot from Josef's script, and also learned a lot from
>   the fstests junit report.
> 
>   But I'm also wondering if there is some better ways.
>   One possible solution I'm still exploring is InflexDB + Grafana.

Probably smarter than building your own web dashboard, but I don't have
any experience with either of those tools.

--D

>   If you guys can share such dashboards, we would have better chances
>   to learn from each other.
> 
> Thanks,
> Qu
