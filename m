Return-Path: <linux-btrfs-owner@vger.kernel.org>
X-Original-To: lists+linux-btrfs@lfdr.de
Delivered-To: lists+linux-btrfs@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 6ABD4412BB8
	for <lists+linux-btrfs@lfdr.de>; Tue, 21 Sep 2021 04:25:44 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S239268AbhIUC1I (ORCPT <rfc822;lists+linux-btrfs@lfdr.de>);
        Mon, 20 Sep 2021 22:27:08 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:34160 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S238174AbhIUB5K (ORCPT
        <rfc822;linux-btrfs@vger.kernel.org>);
        Mon, 20 Sep 2021 21:57:10 -0400
Received: from mail-qk1-x734.google.com (mail-qk1-x734.google.com [IPv6:2607:f8b0:4864:20::734])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 7F261C08E8BB
        for <linux-btrfs@vger.kernel.org>; Mon, 20 Sep 2021 17:13:24 -0700 (PDT)
Received: by mail-qk1-x734.google.com with SMTP id f130so9353948qke.6
        for <linux-btrfs@vger.kernel.org>; Mon, 20 Sep 2021 17:13:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=colorremedies-com.20210112.gappssmtp.com; s=20210112;
        h=mime-version:from:date:message-id:subject:to;
        bh=Y9BDBmUscP0xAcEHWeIfF96BSoLTsTOTpqWRWbt2LY4=;
        b=ci+nh2Uc2OR3QYQxBV3rwDQUP3bIgiK0MQAMn8hVwSqXIItJ/RjVu+CEgNVhiXLXfJ
         xYn8Gj4BbZd+F2ls68hPma1zPAq9D3TGtDuFN5JyPDwU+8WTku1HwYzruUqPMPYVTIox
         AwACv6KGJFS+7DjW9lTz5J4lce4orPQx3QJY9L2QxM104LYyaDgOTN+sfQXerdWKkOyv
         HwPZ78GObb7p5o53k7GdPGrzWt0j5UJpOJxJZtbNaEBihfPDGEi87jOjtR8a9B9a/W1L
         4kqO21yE5CljflRIEuJbp8IrqfUICt8IvtX+KpH8mv2VstiQlvqHVYMg0EjCRmK/Wy8d
         o0jw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=Y9BDBmUscP0xAcEHWeIfF96BSoLTsTOTpqWRWbt2LY4=;
        b=QDfj5EQ8/cU1qReLsTUq2PC6pENSzT5pvUOkqO+5QMAgFCRyXEzfePDYG/lu5Ogvbx
         qzX5bp+fIKJh07zZN0Oww/gBWXC94DAc51zqnpgMhvnDItWvzaf1ivPiZJaHYffaSUJW
         n24riyy3UaA1iHirlHRg4BHrR1yCiHarCJsWcXjNSqyVwvBMwrFMd80IBIJDWL5hnRFJ
         ixqrV3Jtrw40l1BTGOa3WUTipYw8AlLd6t5cUItrflTR2VYhbRc9I96EBAHxuTBF0lFF
         Y0NpT3SJFavvBAg+BVdB4ngVmtQbAgxk4Iz/oH9fnCOu35+q162jHKEPW8ljC7wLY/qL
         AaaA==
X-Gm-Message-State: AOAM533FfgJArqHE0LzO0Ftwkq9WiKjbhfGEPzAb94dzNn4xMXJVnJiA
        jf7sODRn6dbI8kFB8spwHLsxnHyXFs2BRiiPabzS2ygdc73Xv8Z+
X-Google-Smtp-Source: ABdhPJwjFrZlnHAtOFxgdt/Ky8P3uALHEifPVg/Z/q3uVFaQHcdM3PtyQgwKVN/5/V3Qx2o3FygrhK04gx42f8OGAHc=
X-Received: by 2002:a25:c6c1:: with SMTP id k184mr35315249ybf.277.1632183203204;
 Mon, 20 Sep 2021 17:13:23 -0700 (PDT)
MIME-Version: 1.0
From:   Chris Murphy <lists@colorremedies.com>
Date:   Mon, 20 Sep 2021 18:13:07 -0600
Message-ID: <CAJCQCtT+OuemovPO7GZk8Y8=qtOObr0XTDp8jh4OHD6y84AFxw@mail.gmail.com>
Subject: 5.15.0-rc1 armv7hl Workqueue: btrfs-delalloc btrfs_work_helper PC is
 at mmiocpy LR is at ZSTD_compressStream
To:     Btrfs BTRFS <linux-btrfs@vger.kernel.org>
Content-Type: text/plain; charset="UTF-8"
Precedence: bulk
List-ID: <linux-btrfs.vger.kernel.org>
X-Mailing-List: linux-btrfs@vger.kernel.org

https://kojipkgs.fedoraproject.org//work/tasks/8820/75928820/oz-armhfp.log

The oops happens about 80% of the way down. This is a snippet.


00:09:50,669 ALERT kernel:8<--- cut here ---
00:09:50,669 ALERT kernel:Unable to handle kernel NULL pointer
dereference at virtual address 00000000
00:09:50,669 ALERT kernel:pgd = b0c5a5c4
00:09:50,670 ALERT kernel:[00000000] *pgd=00000000
00:09:50,670 EMERG kernel:Internal error: Oops: 5 [#1] SMP ARM
00:09:50,670 WARNING kernel:Modules linked in: vfat fat libfc
scsi_transport_fc uinput scsi_dh_rdac scsi_dh_emc scsi_dh_alua joydev
fuse zram overlay loop virtio_gpu virtio_dma_buf drm_kms_helper
syscopyarea sysfillrect sysimgblt fb_sys_fops cec gpio_keys drm
virtio_mmio virtio_net virtio_blk virtio_console net_failover failover
uhci_hcd rfkill sunrpc lrw dm_crypt trusted asn1_encoder tee
dm_round_robin dm_multipath linear raid10 raid456 async_raid6_recov
async_memcpy async_pq async_xor async_tx raid1 raid0 squashfs cramfs
be2iscsi bnx2i cnic uio cxgb4i cxgb4 tls cxgb3i cxgb3 mdio libcxgbi
libcxgb qla4xxx iscsi_boot_sysfs iscsi_tcp libiscsi_tcp libiscsi
scsi_transport_iscsi
00:09:50,670 WARNING kernel:CPU: 1 PID: 134 Comm: kworker/u8:2 Not
tainted 5.15.0-0.rc1.20210917gitbdb575f87217.15.fc36.armv7hl #1
00:09:50,671 WARNING kernel:Hardware name: QEMU KVM Virtual Machine,
BIOS 0.0.0 02/06/2015
00:09:50,671 WARNING kernel:Workqueue: btrfs-delalloc btrfs_work_helper
00:09:50,671 WARNING kernel:PC is at mmiocpy+0x48/0x330
00:09:50,671 WARNING kernel:LR is at ZSTD_compressStream+0x184/0x294
00:09:50,671 WARNING kernel:pc : [<c08bd768>]    lr : [<c089c314>]
psr: 200e0013
00:09:50,672 WARNING kernel:sp : c2a67d14  ip : 00000000  fp : 00000000
00:09:50,672 WARNING kernel:r10: 00000200  r9 : dcb27000  r8 : 00000400
00:09:50,672 WARNING kernel:r7 : 00000200  r6 : c503eb28  r5 :
c503eb34  r4 : df800008
00:09:50,672 WARNING kernel:r3 : 00000200  r2 : 00000180  r1 :
00000000  r0 : df8027c0
00:09:50,672 WARNING kernel:Flags: nzCv  IRQs on  FIQs on  Mode SVC_32
 ISA ARM  Segment none
00:09:50,672 WARNING kernel:Control: 10c5383d  Table: 4497406a  DAC: 00000051
00:09:50,673 ALERT kernel:Register r0 information: non-slab/vmalloc memory
00:09:50,673 ALERT kernel:Register r1 information: NULL pointer
00:09:50,673 ALERT kernel:Register r2 information: non-paged memory
00:09:50,673 ALERT kernel:Register r3 information: non-paged memory
00:09:50,673 ALERT kernel:Register r4 information: non-slab/vmalloc memory
00:09:50,673 ALERT kernel:Register r5 information: slab kmalloc-64
start c503eb00 pointer offset 52 size 64
00:09:50,674 ALERT kernel:Register r6 information: slab kmalloc-64
start c503eb00 pointer offset 40 size 64
00:09:50,674 ALERT kernel:Register r7 information: non-paged memory
00:09:50,674 ALERT kernel:Register r8 information: non-paged memory
00:09:50,674 ALERT kernel:Register r9 information: non-slab/vmalloc memory
00:09:50,674 ALERT kernel:Register r10 information: non-paged memory
00:09:50,674 ALERT kernel:Register r11 information: NULL pointer
00:09:50,675 ALERT kernel:Register r12 information: NULL pointer
00:09:50,675 EMERG kernel:Process kworker/u8:2 (pid: 134, stack limit
= 0xcad4b4eb)
00:09:50,675 EMERG kernel:Stack: (0xc2a67d14 to 0xc2a68000)
00:09:50,675 EMERG kernel:7d00:
      ???????? ???????? ????????
00:09:50,675 EMERG kernel:7d20: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,675 EMERG kernel:7d40: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,676 EMERG kernel:7d60: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,676 EMERG kernel:7d80: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,676 EMERG kernel:7da0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,676 EMERG kernel:7dc0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,676 EMERG kernel:7de0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,677 EMERG kernel:7e00: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,677 EMERG kernel:7e20: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,677 EMERG kernel:7e40: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,677 EMERG kernel:7e60: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,677 EMERG kernel:7e80: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,677 EMERG kernel:7ea0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,678 EMERG kernel:7ec0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,678 EMERG kernel:7ee0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,678 EMERG kernel:7f00: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,678 EMERG kernel:7f20: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,678 EMERG kernel:7f40: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,678 EMERG kernel:7f60: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,679 EMERG kernel:7f80: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,679 EMERG kernel:7fa0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,679 EMERG kernel:7fc0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,679 EMERG kernel:7fe0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,679 EMERG kernel:[<c08bd768>] (mmiocpy) from [<c089c314>]
(ZSTD_compressStream+0x184/0x294)
00:09:50,679 EMERG kernel:[<c089c314>] (ZSTD_compressStream) from
[<c0737980>] (zstd_compress_pages+0x174/0x390)
00:09:50,680 EMERG kernel:[<c0737980>] (zstd_compress_pages) from
[<c0739ba4>] (btrfs_compress_pages+0x104/0x10c)
00:09:50,680 EMERG kernel:[<c0739ba4>] (btrfs_compress_pages) from
[<c06f1df8>] (compress_file_range+0x25c/0x5dc)
00:09:50,680 EMERG kernel:[<c06f1df8>] (compress_file_range) from
[<c06f2190>] (async_cow_start+0x18/0x30)
00:09:50,680 EMERG kernel:[<c06f2190>] (async_cow_start) from
[<c071c704>] (btrfs_work_helper+0x1ac/0x39c)
00:09:50,680 EMERG kernel:[<c071c704>] (btrfs_work_helper) from
[<c036d7c4>] (process_one_work+0x2f8/0x4f4)
00:09:50,680 EMERG kernel:[<c036d7c4>] (process_one_work) from
[<c036e4f0>] (worker_thread+0x234/0x2f4)
00:09:50,681 EMERG kernel:[<c036e4f0>] (worker_thread) from
[<c037508c>] (kthread+0x134/0x140)
00:09:50,681 EMERG kernel:[<c037508c>] (kthread) from [<c0300160>]
(ret_from_fork+0x14/0x34)
00:09:50,681 EMERG kernel:Exception stack(0xc2a67fb0 to 0xc2a67ff8)
00:09:50,681 EMERG kernel:7fa0:
???????? ???????? ???????? ????????
00:09:50,681 EMERG kernel:7fc0: ???????? ???????? ???????? ????????
???????? ???????? ???????? ????????
00:09:50,681 EMERG kernel:7fe0: ???????? ???????? ???????? ????????
???????? ????????
00:09:50,682 EMERG kernel:Code: ba000002 f5d1f03c f5d1f05c f5d1f07c (e8b151f8)
00:09:50,682 WARNING kernel:---[ end trace 9051d8c5bdb7aaf3 ]---



-- 
Chris Murphy
